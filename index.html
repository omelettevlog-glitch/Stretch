<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥å¸¸æ‹‰ä¼¸è·Ÿç»ƒè®¡æ—¶å™¨</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 40px 30px;
            width: 100%;
            max-width: 500px;
            text-align: center;
        }
        h1 {
            color: #2c3e50;
            font-size: 24px;
            margin-top: 0;
            margin-bottom: 20px;
        }
        .status {
            font-size: 20px;
            font-weight: bold;
            color: #e67e22;
            margin-bottom: 10px;
            min-height: 30px;
        }
        .timer {
            font-size: 80px;
            font-weight: bold;
            color: #27ae60;
            margin: 20px 0;
            line-height: 1;
        }
        .exercise-title {
            font-size: 28px;
            font-weight: bold;
            color: #2980b9;
            margin-bottom: 15px;
            min-height: 40px;
        }
        .instructions {
            text-align: left;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            min-height: 120px;
        }
        .instructions ul {
            margin: 0;
            padding-left: 20px;
            font-size: 16px;
            line-height: 1.6;
        }
        .controls button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 30px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 5px;
        }
        .controls button:hover {
            background-color: #2980b9;
        }
        .controls button.reset {
            background-color: #95a5a6;
        }
        .controls button.reset:hover {
            background-color: #7f8c8d;
        }
        .progress {
            margin-top: 20px;
            font-size: 14px;
            color: #7f8c8d;
        }
        /* çŠ¶æ€é¢œè‰²å˜æ¢ */
        .work-mode .timer { color: #27ae60; }
        .rest-mode .timer { color: #e74c3c; }
    </style>
</head>
<body>

<div class="container" id="app">
    <h1>ğŸ§˜ æ—¥å¸¸æ‹‰ä¼¸è·Ÿç»ƒ</h1>
    
    <div class="status" id="statusText">å‡†å¤‡å¼€å§‹</div>
    
    <div class="exercise-title" id="exerciseTitle">ç‚¹å‡»å¼€å§‹æŒ‰é’®</div>
    
    <div class="timer" id="timerDisplay">00</div>
    
    <div class="instructions" id="instructionsDiv">
        <ul id="instructionsList">
            <li>æ¯ä¸ªåŠ¨ä½œåš 35 ç§’</li>
            <li>ä¼‘æ¯ 10 ç§’</li>
            <li>åšä¸€è½®å³å¯</li>
        </ul>
    </div>
    
    <div class="controls">
        <button id="startBtn" onclick="toggleTimer()">å¼€å§‹</button>
        <button class="reset" onclick="resetTimer()">é‡ç½®</button>
    </div>
    
    <div class="progress" id="progressText">è¿›åº¦: 0 / 5</div>
</div>

<script>
    const exercises = [
        {
            title: "1. å…¨èº«ä¼¸å±•",
            steps: ["åŒè„šæ‰“å¼€ä¸è‚©åŒå®½", "åŒæ‰‹é«˜ä¸¾å‘ä¸Šä¼¸ç›´", "å¤´å¾€ä¸Šæ‹‰ä¼¸ï¼Œæ„Ÿè§‰èƒŒéƒ¨è¢«æ‹‰é•¿"]
        },
        {
            title: "2. éª¨ç›†å‰å€¾ä¼¸å±•",
            steps: ["åŒè…¿ç«™å¥½", "åŒæ‰‹æ”¾åœ¨è…°ä¸¤ä¾§", "å‰å€¾éª¨ç›†ã€æŒºèƒ¸ã€çœ‹å‘å¤©èŠ±æ¿"]
        },
        {
            title: "3. è‡€éƒ¨æ‹‰ä¼¸",
            steps: ["ååœ¨åœ°ä¸Š", "ä¸€æ¡è…¿ä¼¸ç›´ï¼Œå¦ä¸€æ¡è…¿å¼¯æ›²ã€è„šæ”¾åœ¨å¤–ä¾§", "ä¸Šèº«å‘ä¼¸ç›´é‚£æ¡è…¿æ–¹å‘å¼¯"]
        },
        {
            title: "4. çŒ«ç‰›å¼ä¼¸å±•",
            steps: ["å››è‚¢ç€åœ°", "å¸æ°”èƒŒæ‹±ï¼ˆçŒ«ï¼‰", "å‘¼æ°”èƒŒä¸‹æ²‰ï¼ˆç‰›ï¼‰", "åå¤åŠ¨ä½œ"]
        },
        {
            title: "5. å¢™å£æŠ¬è…¿",
            steps: ["é¢å¯¹å¢™", "æŠ¬ä¸€æ¡è…¿åˆ°å¢™ä¸Š", "è½»è½»é åœ¨å¢™ä¸Šä¿æŒå¹³è¡¡"]
        }
    ];

    const WORK_TIME = 35; // åŠ¨ä½œæ—¶é—´ 35ç§’
    const REST_TIME = 10; // ä¼‘æ¯æ—¶é—´ 10ç§’

    let currentExerciseIndex = 0;
    let timeLeft = WORK_TIME;
    let isWorking = true; // true = åšåŠ¨ä½œ, false = ä¼‘æ¯
    let isRunning = false;
    let timerInterval = null;

    const statusText = document.getElementById('statusText');
    const exerciseTitle = document.getElementById('exerciseTitle');
    const timerDisplay = document.getElementById('timerDisplay');
    const instructionsList = document.getElementById('instructionsList');
    const startBtn = document.getElementById('startBtn');
    const progressText = document.getElementById('progressText');
    const appContainer = document.getElementById('app');

    function updateDisplay() {
        if (currentExerciseIndex >= exercises.length) {
            // å®Œæˆæ‰€æœ‰åŠ¨ä½œ
            statusText.textContent = "ğŸ‰ æ­å–œï¼";
            exerciseTitle.textContent = "æ‹‰ä¼¸å®Œæˆï¼Œè¾›è‹¦äº†ï¼";
            timerDisplay.textContent = "--";
            instructionsList.innerHTML = "<li>ä½ å·²ç»å®Œæˆäº†æ‰€æœ‰åŠ¨ä½œï¼Œæ„Ÿè§‰èº«ä½“æ”¾æ¾äº†å—ï¼Ÿ</li>";
            startBtn.style.display = 'none';
            appContainer.className = 'container';
            return;
        }

        const currentEx = exercises[currentExerciseIndex];
        
        // æ›´æ–°æ—¶é—´
        timerDisplay.textContent = timeLeft;

        // æ›´æ–°çŠ¶æ€å’Œç•Œé¢
        if (isWorking) {
            statusText.textContent = "ğŸ”¥ è¿›è¡Œä¸­";
            exerciseTitle.textContent = currentEx.title;
            appContainer.className = 'container work-mode';
            
            // æ›´æ–°æŒ‡å¯¼æ­¥éª¤
            instructionsList.innerHTML = currentEx.steps.map(step => `<li>${step}</li>`).join('');
        } else {
            statusText.textContent = "â˜• ä¼‘æ¯ä¸€ä¸‹";
            const nextEx = exercises[currentExerciseIndex];
            exerciseTitle.textContent = "å³å°†è¿›è¡Œ: " + nextEx.title;
            appContainer.className = 'container rest-mode';
            
            instructionsList.innerHTML = `<li>æ·±å‘¼å¸ï¼Œå‡†å¤‡ä¸‹ä¸€ä¸ªåŠ¨ä½œ</li>` + 
                                         nextEx.steps.map(step => `<li style="color:#7f8c8d; font-size:14px;">(é¢„æ¼”: ${step})</li>`).join('');
        }

        progressText.textContent = `è¿›åº¦: ${currentExerciseIndex + 1} / ${exercises.length}`;
    }

    function timerTick() {
        timeLeft--;
        
        if (timeLeft < 0) {
            // åˆ‡æ¢çŠ¶æ€
            if (isWorking) {
                // åŠ¨ä½œç»“æŸï¼Œè¿›å…¥ä¼‘æ¯
                isWorking = false;
                timeLeft = REST_TIME;
                currentExerciseIndex++; // åŠ¨ä½œåšå®Œæ‰ç®—ä¸‹ä¸€ä¸ª
                
                // å¦‚æœåšå®Œäº†æœ€åä¸€ä¸ªåŠ¨ä½œï¼Œç›´æ¥ç»“æŸï¼Œä¸éœ€è¦å†ä¼‘æ¯äº†
                if (currentExerciseIndex >= exercises.length) {
                     clearInterval(timerInterval);
                     isRunning = false;
                     updateDisplay();
                     return;
                }
            } else {
                // ä¼‘æ¯ç»“æŸï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªåŠ¨ä½œ
                isWorking = true;
                timeLeft = WORK_TIME;
            }
        }
        updateDisplay();
    }

    function toggleTimer() {
        if (isRunning) {
            clearInterval(timerInterval);
            startBtn.textContent = "ç»§ç»­";
            statusText.textContent = "æš‚åœä¸­";
        } else {
            if (currentExerciseIndex >= exercises.length) return; // å·²ç»ç»“æŸäº†
            
            // å¦‚æœåˆšå¼€å§‹ï¼Œåˆå§‹åŒ–æ˜¾ç¤º
            if (timeLeft === WORK_TIME && isWorking && currentExerciseIndex === 0) {
                 updateDisplay();
            }
            
            timerInterval = setInterval(timerTick, 1000);
            startBtn.textContent = "æš‚åœ";
        }
        isRunning = !isRunning;
    }

    function resetTimer() {
        clearInterval(timerInterval);
        isRunning = false;
        currentExerciseIndex = 0;
        isWorking = true;
        timeLeft = WORK_TIME;
        
        startBtn.textContent = "å¼€å§‹";
        startBtn.style.display = 'inline-block';
        
        statusText.textContent = "å‡†å¤‡å¼€å§‹";
        exerciseTitle.textContent = "ç‚¹å‡»å¼€å§‹æŒ‰é’®";
        timerDisplay.textContent = "00";
        instructionsList.innerHTML = `<li>æ¯ä¸ªåŠ¨ä½œåš 35 ç§’</li><li>ä¼‘æ¯ 10 ç§’</li><li>åšä¸€è½®å³å¯</li>`;
        progressText.textContent = "è¿›åº¦: 0 / 5";
        appContainer.className = 'container';
    }

</script>
</body>
</html>
